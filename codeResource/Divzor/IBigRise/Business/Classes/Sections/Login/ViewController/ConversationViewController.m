
#import <Foundation/Foundation.h>

NSString *StringFromArrowMarginData(Byte *data);


//: en
Byte componentOperaTool[] = {62, 2, 84, 13, 33, 214, 202, 215, 194, 47, 25, 145, 83, 185, 194, 86};

//: ko
Byte moduleImplementPath[] = {22, 2, 8, 14, 47, 4, 179, 85, 150, 138, 243, 242, 175, 26, 115, 119, 129};

//: warm_prompt
Byte themeReceiverDevice[] = {43, 11, 49, 5, 218, 168, 146, 163, 158, 144, 161, 163, 160, 158, 161, 165, 32};

//: ko-KP
Byte k_loseUtility[] = {41, 5, 8, 6, 142, 36, 115, 119, 53, 83, 88, 103};

//: user_profile_avtivity_head
Byte coreRouteMessage[] = {93, 26, 86, 11, 129, 179, 221, 102, 240, 175, 180, 203, 201, 187, 200, 181, 198, 200, 197, 188, 191, 194, 187, 181, 183, 204, 202, 191, 204, 191, 202, 207, 181, 190, 187, 183, 186, 104};

//: zh-Hans
Byte styleMatterForcePosterSettings[] = {41, 7, 62, 5, 92, 184, 166, 107, 134, 159, 172, 177, 155};

//: sa
Byte styleViewJumpDevice[] = {74, 2, 99, 4, 214, 196, 140};

//: register_avtivity3_avatar
Byte componentListenName[] = {64, 25, 22, 12, 216, 234, 158, 160, 91, 69, 132, 217, 136, 123, 125, 127, 137, 138, 123, 136, 117, 119, 140, 138, 127, 140, 127, 138, 143, 73, 117, 119, 140, 119, 138, 119, 136, 114};

//: login_bg
Byte colorYardEvent[] = {9, 8, 55, 8, 60, 122, 39, 88, 163, 166, 158, 160, 165, 150, 153, 158, 96};

//: spa
Byte componentAvailableOpera[] = {62, 3, 79, 5, 244, 194, 191, 176, 109};

//: #8A53F8
Byte corePublishJoinAsError[] = {65, 7, 53, 12, 80, 115, 134, 72, 23, 245, 37, 59, 88, 109, 118, 106, 104, 123, 109, 65};

//: contact_list_activity_complete
Byte screenHisHelper[] = {49, 30, 53, 8, 63, 68, 80, 168, 152, 164, 163, 169, 150, 152, 169, 148, 161, 158, 168, 169, 148, 150, 152, 169, 158, 171, 158, 169, 174, 148, 152, 164, 162, 165, 161, 154, 169, 154, 25};

//: zh
Byte spacingTickMovieCrashTimer[] = {69, 2, 72, 14, 137, 16, 187, 34, 215, 160, 139, 144, 71, 194, 194, 176, 26};

//: vi
Byte featureCreateError[] = {13, 2, 91, 4, 209, 196, 136};

//: de
Byte featureCorrectPage[] = {41, 2, 54, 12, 31, 193, 46, 143, 42, 31, 62, 202, 154, 155, 1};

//: nickname
Byte layoutEverForceName[] = {92, 8, 89, 14, 30, 53, 231, 172, 249, 76, 208, 174, 99, 21, 199, 194, 188, 196, 199, 186, 198, 190, 58};

//: ru
Byte componentPlatformValue[] = {17, 2, 64, 9, 109, 243, 119, 35, 159, 178, 181, 195};

//: ja
Byte coreSecureConfig[] = {70, 2, 82, 11, 107, 55, 91, 62, 57, 15, 249, 188, 179, 196};

//: icon_photo
Byte commonDropMessage[] = {78, 10, 64, 14, 179, 231, 21, 211, 2, 35, 82, 27, 171, 255, 169, 163, 175, 174, 159, 176, 168, 175, 180, 175, 251};

//: #000000
Byte coreEverTitle[] = {98, 7, 74, 4, 109, 122, 122, 122, 122, 122, 122, 237};

//: 666666
Byte spacingScheduleId[] = {60, 6, 54, 13, 59, 194, 80, 71, 177, 42, 137, 212, 159, 108, 108, 108, 108, 108, 108, 85};

//: ar
Byte featureInstructionHelper[] = {83, 2, 82, 10, 167, 2, 180, 18, 16, 40, 179, 196, 66};

//: register_good_avater
Byte spacingSelectTimer[] = {56, 20, 8, 4, 122, 109, 111, 113, 123, 124, 109, 122, 103, 111, 119, 119, 108, 103, 105, 126, 105, 124, 109, 122, 205};

//: zh-Hant
Byte viewIslandConfig[] = {62, 7, 48, 12, 250, 41, 154, 159, 72, 6, 205, 159, 170, 152, 93, 120, 145, 158, 164, 68};

//: back_arrow_bl
Byte commonIslandMessage[] = {29, 13, 84, 6, 172, 221, 182, 181, 183, 191, 179, 181, 198, 198, 195, 203, 179, 182, 192, 31};

//: fr
Byte screenJoinViewValue[] = {95, 2, 39, 7, 129, 218, 125, 141, 153, 76};

//: head_default
Byte corePadName[] = {6, 12, 41, 10, 230, 75, 201, 204, 148, 188, 145, 142, 138, 141, 136, 141, 142, 143, 138, 158, 149, 157, 227};

//: setting_privacy_camera
Byte layoutSucceedTitle[] = {24, 22, 28, 12, 110, 246, 197, 159, 70, 135, 140, 94, 143, 129, 144, 144, 133, 138, 131, 123, 140, 142, 133, 146, 125, 127, 149, 123, 127, 125, 137, 129, 142, 125, 141};

//: pt
Byte screenSequenceTitle[] = {76, 2, 70, 13, 56, 58, 96, 34, 3, 45, 198, 77, 193, 182, 186, 33};

//: hant
Byte spacingCorrectName[] = {56, 4, 91, 4, 195, 188, 201, 207, 176};

//: contact_tag_fragment_cancel
Byte commonAdvantageEvent[] = {1, 27, 38, 12, 12, 56, 174, 115, 161, 202, 216, 170, 137, 149, 148, 154, 135, 137, 154, 133, 154, 135, 141, 133, 140, 152, 135, 141, 147, 139, 148, 154, 133, 137, 135, 148, 137, 139, 146, 7};

//: message_send_album
Byte themeDoingdDevice[] = {87, 18, 39, 7, 207, 123, 14, 148, 140, 154, 154, 136, 142, 140, 134, 154, 140, 149, 139, 134, 136, 147, 137, 156, 148, 250};

//: ic_hi
Byte moduleTickHelper[] = {27, 5, 96, 12, 73, 193, 152, 200, 59, 157, 243, 142, 201, 195, 191, 200, 201, 226};

//: #6D2EEB
Byte spacingBlendError[] = {30, 7, 56, 10, 231, 105, 149, 174, 240, 120, 91, 110, 124, 106, 125, 125, 122, 143};

//: setting_privacy
Byte featurePassFamilyInsertValue[] = {3, 15, 58, 11, 53, 32, 45, 25, 36, 154, 192, 173, 159, 174, 174, 163, 168, 161, 153, 170, 172, 163, 176, 155, 157, 179, 66};

//: message_send_camera
Byte moduleJumpMessage[] = {36, 19, 28, 8, 251, 198, 175, 80, 137, 129, 143, 143, 125, 131, 129, 123, 143, 129, 138, 128, 123, 127, 125, 137, 129, 142, 125, 12};

//: tag_activity_set
Byte k_routeTitle[] = {88, 16, 56, 13, 115, 23, 154, 235, 217, 55, 15, 238, 197, 172, 153, 159, 151, 153, 155, 172, 161, 174, 161, 172, 177, 151, 171, 157, 172, 202};

//: es
Byte colorCutName[] = {99, 2, 77, 7, 73, 20, 10, 178, 192, 38};

// __DEBUG__
// __CLOSE_PRINT__
//
//  ConversationViewController.m
//  NIM
//
//  Created by Yan Wang on 2024/7/30.
//  Copyright © 2024 Netease. All rights reserved.
//

// __M_A_C_R_O__
//: #import "ZMONRegisterAvatarViewController.h"
#import "ConversationViewController.h"
//: #import "SVProgressHUD.h"
#import "ProceedSubmitView.h"
//: #import "UIView+Toast.h"
#import "UIView+Cloud.h"
//: #import "UIActionSheet+NTESBlock.h"
#import "UIActionSheet+VisibleUs.h"
//: #import "ZZZSetNickNameView.h"
#import "FactorySucceedView.h"
//: #import "SDWebImageManager.h"
#import "SDWebImageManager.h"
//: #import "NTESFileLocationHelper.h"
#import "BroadcastHelper.h"
//: #import <Photos/Photos.h>
#import <Photos/Photos.h>
//: #import "TZImageManager.h"
#import "TZImageManager.h"
//: #import "TZVideoPlayerController.h"
#import "TZVideoPlayerController.h"
//: #import "TZPhotoPreviewController.h"
#import "TZPhotoPreviewController.h"
//: #import "TZImagePickerController.h"
#import "TZImagePickerController.h"
//: #import "UIView+TZLayout.h"
#import "UIView+TZLayout.h"
//: #import "UIView+Toast.h"
#import "UIView+Cloud.h"
//: #import "NTESRegistConfigManager.h"
#import "MusculusAbductorPollicisMember.h"

//: @interface ZMONRegisterAvatarViewController ()
@interface ConversationViewController ()


//: @property (nonatomic, strong) UIImageView *aratarImgView;
@property (nonatomic, strong) UIImageView *footLab;
//: @property (nonatomic, strong) UILabel *accountLabel;
@property (nonatomic, strong) UILabel *light;
//: @property (nonatomic, strong) UILabel *appNameLabel;
@property (nonatomic, strong) UILabel *component;
//: @property (nonatomic, strong) UILabel *subLabel;
@property (nonatomic, strong) UILabel *reply;
//: @property (nonatomic, strong) UIButton *closeBtn;
@property (nonatomic, strong) UIButton *tab;
//: @property (nonatomic, strong) UIImage *headerImage;
@property (nonatomic, strong) UIImage *version;
//: @property (nonatomic, strong) UIButton *registButton;
@property (nonatomic, strong) UIButton *during;


//: @end
@end

//: @implementation ZMONRegisterAvatarViewController
@implementation ConversationViewController

//: - (void)backAction{
- (void)contentPermission{
    //: [self.navigationController popViewControllerAnimated:NO];
    [self.navigationController popViewControllerAnimated:NO];
}

/**
 *  请求相机权限
 */
//: - (void)requestAuthorizationForVideo {
- (void)additionalPause {

    @
     //: autoreleasepool{} __weak __typeof__(self) __weak_self__ = self;
     autoreleasepool{} __weak __typeof__(self) __weak_self__ = self;
                  ;
    //: AVAuthorizationStatus authorityStaus = [AVCaptureDevice authorizationStatusForMediaType:AVMediaTypeVideo];
    AVAuthorizationStatus authorityStaus = [AVCaptureDevice authorizationStatusForMediaType:AVMediaTypeVideo];
    //: if (AVAuthorizationStatusNotDetermined == authorityStaus) {
    if (AVAuthorizationStatusNotDetermined == authorityStaus) {
        //: [AVCaptureDevice requestAccessForMediaType:AVMediaTypeVideo completionHandler:^(BOOL granted) {
        [AVCaptureDevice requestAccessForMediaType:AVMediaTypeVideo completionHandler:^(BOOL granted) {
            //: if (granted == YES) {
            if (granted == YES) {
                //: dispatch_async(dispatch_get_main_queue(), ^{
                dispatch_async(dispatch_get_main_queue(), ^{
                    @
                     //: try{} @finally{} __typeof__(self) self = __weak_self__;
                     try{} @finally{} __typeof__(self) self = __weak_self__;
                                    ;

                    //: if ([UIImagePickerController isSourceTypeAvailable:UIImagePickerControllerSourceTypeCamera]) {
                    if ([UIImagePickerController isSourceTypeAvailable:UIImagePickerControllerSourceTypeCamera]) {
                        //: [self pushTZImagePickerControllerWithAsset:nil];
                        [self bigSmart:nil];

                    }
                //: });
                });
            }
        //: }];
        }];
    //: } else if (AVAuthorizationStatusAuthorized == authorityStaus) {
    } else if (AVAuthorizationStatusAuthorized == authorityStaus) {
        //: if ([UIImagePickerController isSourceTypeAvailable:UIImagePickerControllerSourceTypeCamera]) {
        if ([UIImagePickerController isSourceTypeAvailable:UIImagePickerControllerSourceTypeCamera]) {
            //: [self pushTZImagePickerControllerWithAsset:nil];
            [self bigSmart:nil];

        }
    //: } else {
    } else {
//        NSURL *url = [[NSURL alloc] initWithString:UIApplicationOpenSettingsURLString];
//        if( [[UIApplication sharedApplication] canOpenURL:url]) {
//            [[UIApplication sharedApplication] openURL:url options:@{} completionHandler:nil];
//        }

        //: UIAlertController *alertControl = [UIAlertController alertControllerWithTitle:[NTESLanguageManager getTextWithKey:@"warm_prompt"] message:[NTESLanguageManager getTextWithKey:@"setting_privacy_camera"] preferredStyle:UIAlertControllerStyleAlert];
        UIAlertController *alertControl = [UIAlertController alertControllerWithTitle:[BombardmentMinimumManageress more:StringFromArrowMarginData(themeReceiverDevice)] message:[BombardmentMinimumManageress more:StringFromArrowMarginData(layoutSucceedTitle)] preferredStyle:UIAlertControllerStyleAlert];
        //: [alertControl addAction:([UIAlertAction actionWithTitle:[NTESLanguageManager getTextWithKey:@"contact_tag_fragment_cancel"] style:UIAlertActionStyleCancel handler:^(UIAlertAction * _Nonnull action) {
        [alertControl addAction:([UIAlertAction actionWithTitle:[BombardmentMinimumManageress more:StringFromArrowMarginData(commonAdvantageEvent)] style:UIAlertActionStyleCancel handler:^(UIAlertAction * _Nonnull action) {
        //: }])];
        }])];
        //: [alertControl addAction:([UIAlertAction actionWithTitle:[NTESLanguageManager getTextWithKey:@"tag_activity_set"] style:UIAlertActionStyleDefault handler:^(UIAlertAction * _Nonnull action) {
        [alertControl addAction:([UIAlertAction actionWithTitle:[BombardmentMinimumManageress more:StringFromArrowMarginData(k_routeTitle)] style:UIAlertActionStyleDefault handler:^(UIAlertAction * _Nonnull action) {
            //: NSURL *url = [[NSURL alloc] initWithString:UIApplicationOpenSettingsURLString];
            NSURL *url = [[NSURL alloc] initWithString:UIApplicationOpenSettingsURLString];
            //: if( [[UIApplication sharedApplication] canOpenURL:url]) {
            if( [[UIApplication sharedApplication] canOpenURL:url]) {
                //: [[UIApplication sharedApplication] openURL:url options:@{} completionHandler:nil];
                [[UIApplication sharedApplication] openURL:url options:@{} completionHandler:nil];
            }
        //: }])];
        }])];
        //: [self presentViewController:alertControl animated:YES completion:nil];
        [self presentViewController:alertControl animated:YES completion:nil];

    }
}

/**
 *  请求相册
 */
//: - (void)requestAuthorizationForPhotoLibrary
- (void)added
{
    @
     //: autoreleasepool{} __weak __typeof__(self) __weak_self__ = self;
     autoreleasepool{} __weak __typeof__(self) __weak_self__ = self;
                  ;
    //: PHAuthorizationStatus authStatus = [PHPhotoLibrary authorizationStatus];
    PHAuthorizationStatus authStatus = [PHPhotoLibrary authorizationStatus];
    //: if (PHAuthorizationStatusNotDetermined == authStatus) {
    if (PHAuthorizationStatusNotDetermined == authStatus) {
        //: [PHPhotoLibrary requestAuthorization:^(PHAuthorizationStatus status) {
        [PHPhotoLibrary requestAuthorization:^(PHAuthorizationStatus status) {
            //: if (PHAuthorizationStatusAuthorized == status) {
            if (PHAuthorizationStatusAuthorized == status) {
                @
                 //: try{} @finally{} __typeof__(self) self = __weak_self__;
                 try{} @finally{} __typeof__(self) self = __weak_self__;
                                ;
                //: dispatch_async(dispatch_get_main_queue(), ^{
                dispatch_async(dispatch_get_main_queue(), ^{
                    //: [self pushTZImagePickerControllerWithAsset:nil];
                    [self bigSmart:nil];
                //: });
                });
            }
        //: }];
        }];
        //: return;
        return;
    //: } else if (PHAuthorizationStatusAuthorized == authStatus){
    } else if (PHAuthorizationStatusAuthorized == authStatus){
        //: [self pushTZImagePickerControllerWithAsset:nil];
        [self bigSmart:nil];
    //: } else {
    } else {
//        NSURL *url = [[NSURL alloc] initWithString:UIApplicationOpenSettingsURLString];
//        if( [[UIApplication sharedApplication] canOpenURL:url]) {
//            [[UIApplication sharedApplication] openURL:url options:@{} completionHandler:nil];
//        }

        //: UIAlertController *alertControl = [UIAlertController alertControllerWithTitle:[NTESLanguageManager getTextWithKey:@"warm_prompt"] message:[NTESLanguageManager getTextWithKey:@"setting_privacy"] preferredStyle:UIAlertControllerStyleAlert];
        UIAlertController *alertControl = [UIAlertController alertControllerWithTitle:[BombardmentMinimumManageress more:StringFromArrowMarginData(themeReceiverDevice)] message:[BombardmentMinimumManageress more:StringFromArrowMarginData(featurePassFamilyInsertValue)] preferredStyle:UIAlertControllerStyleAlert];
        //: [alertControl addAction:([UIAlertAction actionWithTitle:[NTESLanguageManager getTextWithKey:@"contact_tag_fragment_cancel"] style:UIAlertActionStyleCancel handler:^(UIAlertAction * _Nonnull action) {
        [alertControl addAction:([UIAlertAction actionWithTitle:[BombardmentMinimumManageress more:StringFromArrowMarginData(commonAdvantageEvent)] style:UIAlertActionStyleCancel handler:^(UIAlertAction * _Nonnull action) {
        //: }])];
        }])];
        //: [alertControl addAction:([UIAlertAction actionWithTitle:[NTESLanguageManager getTextWithKey:@"tag_activity_set"] style:UIAlertActionStyleDefault handler:^(UIAlertAction * _Nonnull action) {
        [alertControl addAction:([UIAlertAction actionWithTitle:[BombardmentMinimumManageress more:StringFromArrowMarginData(k_routeTitle)] style:UIAlertActionStyleDefault handler:^(UIAlertAction * _Nonnull action) {
            //: NSURL *url = [[NSURL alloc] initWithString:UIApplicationOpenSettingsURLString];
            NSURL *url = [[NSURL alloc] initWithString:UIApplicationOpenSettingsURLString];
            //: if( [[UIApplication sharedApplication] canOpenURL:url]) {
            if( [[UIApplication sharedApplication] canOpenURL:url]) {
                //: [[UIApplication sharedApplication] openURL:url options:@{} completionHandler:nil];
                [[UIApplication sharedApplication] openURL:url options:@{} completionHandler:nil];
            }
        //: }])];
        }])];
        //: [self presentViewController:alertControl animated:YES completion:nil];
        [self presentViewController:alertControl animated:YES completion:nil];
    }
}

//: - (void)nextButtonClick{
- (void)gestureCircleInformation{

    //: NTESRegistConfigManager *manager = [NTESRegistConfigManager shareConfigManager];
    MusculusAbductorPollicisMember *manager = [MusculusAbductorPollicisMember someRefuse];

    //: if (_headerImage) {
    if (_version) {
        //: manager.headerImage = _headerImage;
        manager.cover = _version;
    //: }else{
    }else{
        //: [SVProgressHUD showMessage:[NTESLanguageManager getTextWithKey:@"register_avtivity3_avatar"]];
        [ProceedSubmitView most:[BombardmentMinimumManageress more:StringFromArrowMarginData(componentListenName)]];
        //: return;
        return;
    }

    //: [manager.registDict setObject:self.nickName forKey:@"nickname"];
    [manager.detect setObject:self.extra forKey:StringFromArrowMarginData(layoutEverForceName)];

    //注册
    //: [NTESRegistConfigManager sendRegistRequest:self.navigationController];
    [MusculusAbductorPollicisMember livingOutput:self.navigationController];
}

//: - (void)showPicker {
- (void)elementProvider {

    //: UIAlertController *alertVc = [UIAlertController alertControllerWithTitle:nil message:nil preferredStyle:UIAlertControllerStyleActionSheet];
    UIAlertController *alertVc = [UIAlertController alertControllerWithTitle:nil message:nil preferredStyle:UIAlertControllerStyleActionSheet];

    //: UIAlertAction *camera = [UIAlertAction actionWithTitle:[NTESLanguageManager getTextWithKey:@"message_send_camera"] style:UIAlertActionStyleDefault handler:^(UIAlertAction *action) {
    UIAlertAction *camera = [UIAlertAction actionWithTitle:[BombardmentMinimumManageress more:StringFromArrowMarginData(moduleJumpMessage)] style:UIAlertActionStyleDefault handler:^(UIAlertAction *action) {

//        [self pushTZImagePickerControllerWithAsset:nil];
        //: [self requestAuthorizationForVideo];
        [self additionalPause];

    //: }];
    }];

    //: UIAlertAction *picture = [UIAlertAction actionWithTitle:[NTESLanguageManager getTextWithKey:@"message_send_album"] style:UIAlertActionStyleDefault handler:^(UIAlertAction *action) {
    UIAlertAction *picture = [UIAlertAction actionWithTitle:[BombardmentMinimumManageress more:StringFromArrowMarginData(themeDoingdDevice)] style:UIAlertActionStyleDefault handler:^(UIAlertAction *action) {

//        [self pushTZImagePickerControllerWithAsset:nil];
        //: [self requestAuthorizationForPhotoLibrary];
        [self added];

            //: }];
            }];

    //: UIAlertAction *cancle = [UIAlertAction actionWithTitle:[NTESLanguageManager getTextWithKey:@"contact_tag_fragment_cancel"] style:UIAlertActionStyleCancel handler:^(UIAlertAction *_Nonnull action) {
    UIAlertAction *cancle = [UIAlertAction actionWithTitle:[BombardmentMinimumManageress more:StringFromArrowMarginData(commonAdvantageEvent)] style:UIAlertActionStyleCancel handler:^(UIAlertAction *_Nonnull action) {
   //: }];
   }];


    //: [alertVc addAction:camera];
    [alertVc addAction:camera];
    //: [alertVc addAction:picture];
    [alertVc addAction:picture];
    //: [alertVc addAction:cancle];
    [alertVc addAction:cancle];

    //: [self presentViewController:alertVc animated:YES completion:nil];
    [self presentViewController:alertVc animated:YES completion:nil];
}







//: #pragma mark - TZImagePickerController
#pragma mark - TZImagePickerController
//: - (void)pushTZImagePickerControllerWithAsset:(PHAsset *)asset {
- (void)bigSmart:(PHAsset *)asset {

    //: TZImagePickerController *imagePickerVc = [[TZImagePickerController alloc] initWithMaxImagesCount:1 columnNumber:4 delegate:nil pushPhotoPickerVc:YES];
    TZImagePickerController *imagePickerVc = [[TZImagePickerController alloc] initWithMaxImagesCount:1 columnNumber:4 delegate:nil pushPhotoPickerVc:YES];

//: #pragma mark - 五类个性化设置，这些参数都可以不传，此时会走默认设置
#pragma mark - 五类个性化设置，这些参数都可以不传，此时会走默认设置
    //: imagePickerVc.isSelectOriginalPhoto = YES;
    imagePickerVc.isSelectOriginalPhoto = YES;
    //: if (asset){
    if (asset){
        //: imagePickerVc.selectedAssets = [NSMutableArray arrayWithObject:asset]; 
        imagePickerVc.selectedAssets = [NSMutableArray arrayWithObject:asset]; // 目前已经选中的图片数组
    }
    //: imagePickerVc.allowTakePicture = YES; 
    imagePickerVc.allowTakePicture = YES; // 在内部显示拍照按钮
    //: imagePickerVc.allowTakeVideo = NO; 
    imagePickerVc.allowTakeVideo = NO; // 在内部显示拍视频按
    //: [imagePickerVc setUiImagePickerControllerSettingBlock:^(UIImagePickerController *imagePickerController) {
    [imagePickerVc setUiImagePickerControllerSettingBlock:^(UIImagePickerController *imagePickerController) {
        //: imagePickerController.videoQuality = UIImagePickerControllerQualityTypeHigh;
        imagePickerController.videoQuality = UIImagePickerControllerQualityTypeHigh;
    //: }];
    }];

    //: imagePickerVc.iconThemeColor = [UIColor colorWithRed:31 / 255.0 green:185 / 255.0 blue:34 / 255.0 alpha:1.0];
    imagePickerVc.iconThemeColor = [UIColor colorWithRed:31 / 255.0 green:185 / 255.0 blue:34 / 255.0 alpha:1.0];
    //: imagePickerVc.showPhotoCannotSelectLayer = YES;
    imagePickerVc.showPhotoCannotSelectLayer = YES;
    //: imagePickerVc.cannotSelectLayerColor = [[UIColor whiteColor] colorWithAlphaComponent:0.8];
    imagePickerVc.cannotSelectLayerColor = [[UIColor whiteColor] colorWithAlphaComponent:0.8];
    //: imagePickerVc.processHintStr = @"...";
    imagePickerVc.processHintStr = @"...";
    // 3. 设置是否可以选择视频/图片/原图
    //: imagePickerVc.allowPickingVideo = NO;
    imagePickerVc.allowPickingVideo = NO;
    //: imagePickerVc.allowPickingImage = YES;
    imagePickerVc.allowPickingImage = YES;
    //: imagePickerVc.allowPickingOriginalPhoto = YES;
    imagePickerVc.allowPickingOriginalPhoto = YES;
    //: imagePickerVc.allowPickingGif = NO;
    imagePickerVc.allowPickingGif = NO;
    //: imagePickerVc.allowPickingMultipleVideo = NO;
    imagePickerVc.allowPickingMultipleVideo = NO;

    // 4. 照片排列按修改时间升序
    //: imagePickerVc.sortAscendingByModificationDate = YES;
    imagePickerVc.sortAscendingByModificationDate = YES;

     //: imagePickerVc.maxImagesCount = 1;
     imagePickerVc.maxImagesCount = 1;

    /// 5. Single selection mode, valid when maxImagesCount = 1
    /// 5. 单选模式,maxImagesCount为1时才生效
    //: imagePickerVc.showSelectBtn = NO;
    imagePickerVc.showSelectBtn = NO;
    //: imagePickerVc.allowCrop = YES;
    imagePickerVc.allowCrop = YES;
    //: imagePickerVc.needCircleCrop = YES;
    imagePickerVc.needCircleCrop = YES;
    // 设置竖屏下的裁剪尺寸
    //: NSInteger left = 30;
    NSInteger left = 30;
    //: NSInteger widthHeight = self.view.tz_width - 2 * left;
    NSInteger widthHeight = self.view.tz_width - 2 * left;
    //: NSInteger top = (self.view.tz_height - widthHeight) / 2;
    NSInteger top = (self.view.tz_height - widthHeight) / 2;
    //: imagePickerVc.cropRect = CGRectMake(left, top, widthHeight, widthHeight);
    imagePickerVc.cropRect = CGRectMake(left, top, widthHeight, widthHeight);
    //: imagePickerVc.scaleAspectFillCrop = YES;
    imagePickerVc.scaleAspectFillCrop = YES;

    //: imagePickerVc.statusBarStyle = UIStatusBarStyleLightContent;
    imagePickerVc.statusBarStyle = UIStatusBarStyleLightContent;

    // 设置是否显示图片序号
    //: imagePickerVc.showSelectedIndex = YES;
    imagePickerVc.showSelectedIndex = YES;

    //: imagePickerVc.navigationBar.barStyle = UIBarStyleDefault;
    imagePickerVc.navigationBar.barStyle = UIBarStyleDefault;
//    imagePickerVc.naviBgColor = [KEKESkinColorManager shareInstance].skinColor;
    //: imagePickerVc.naviTitleColor = [UIColor blackColor];
    imagePickerVc.naviTitleColor = [UIColor blackColor];
    //: imagePickerVc.barItemTextColor = [UIColor blackColor];
    imagePickerVc.barItemTextColor = [UIColor blackColor];

    //: NSString *langType = emptyString([NIMUserDefaults standardUserDefaults].language);
    NSString *langType = refreshText([UserDefaults sortFinish].mustForce);
    //: NSString *preferredlang = @"";
    NSString *preferredlang = @"";
    //: if ([langType containsString:@"vi"]){
    if ([langType containsString:StringFromArrowMarginData(featureCreateError)]){
        //: preferredlang = @"vi";
        preferredlang = StringFromArrowMarginData(featureCreateError);
    //: }else if ([langType containsString:@"ja"]){
    }else if ([langType containsString:StringFromArrowMarginData(coreSecureConfig)]){
        //: preferredlang = @"ja";
        preferredlang = StringFromArrowMarginData(coreSecureConfig);
    //: }else if ([langType containsString:@"ko"]){
    }else if ([langType containsString:StringFromArrowMarginData(moduleImplementPath)]){
        //: preferredlang = @"ko-KP";
        preferredlang = StringFromArrowMarginData(k_loseUtility);
    //: }else if ([langType containsString:@"spa"]){
    }else if ([langType containsString:StringFromArrowMarginData(componentAvailableOpera)]){
        //: preferredlang = @"es";
        preferredlang = StringFromArrowMarginData(colorCutName);
    //: }else if ([langType containsString:@"pt"]){
    }else if ([langType containsString:StringFromArrowMarginData(screenSequenceTitle)]){
        //: preferredlang = @"pt";
        preferredlang = StringFromArrowMarginData(screenSequenceTitle);
    //: }else if ([langType containsString:@"zh"]){
    }else if ([langType containsString:StringFromArrowMarginData(spacingTickMovieCrashTimer)]){
        //: preferredlang = @"zh-Hans";
        preferredlang = StringFromArrowMarginData(styleMatterForcePosterSettings);
    //: }else if ([langType containsString:@"de"]){
    }else if ([langType containsString:StringFromArrowMarginData(featureCorrectPage)]){
        //: preferredlang = @"de";
        preferredlang = StringFromArrowMarginData(featureCorrectPage);
    //: }else if ([langType containsString:@"sa"]){
    }else if ([langType containsString:StringFromArrowMarginData(styleViewJumpDevice)]){
        //: preferredlang = @"ar";
        preferredlang = StringFromArrowMarginData(featureInstructionHelper);
    //: }else if ([langType containsString:@"ru"]){
    }else if ([langType containsString:StringFromArrowMarginData(componentPlatformValue)]){
        //: preferredlang = @"ru";
        preferredlang = StringFromArrowMarginData(componentPlatformValue);
    //: }else if ([langType containsString:@"fr"]){
    }else if ([langType containsString:StringFromArrowMarginData(screenJoinViewValue)]){
        //: preferredlang = @"fr";
        preferredlang = StringFromArrowMarginData(screenJoinViewValue);
    //: }else if ([langType containsString:@"hant"]){
    }else if ([langType containsString:StringFromArrowMarginData(spacingCorrectName)]){
        //: preferredlang = @"zh-Hant";
        preferredlang = StringFromArrowMarginData(viewIslandConfig);
    //: }else{
    }else{
        //: preferredlang = @"en";
        preferredlang = StringFromArrowMarginData(componentOperaTool);
    }
    //: imagePickerVc.preferredLanguage = preferredlang;
    imagePickerVc.preferredLanguage = preferredlang;

//    [NSSet setWithObjects:@"zh-Hans", @"zh-Hant", @"en", @"ar", @"de", @"es", @"fr", @"ja", @"ko-KP", @"pt", @"ru", @"vi", nil];
    // 设置首选语言 / Set preferred language
//         imagePickerVc.preferredLanguage = @"zh-Hans";
        // 设置languageBundle以使用其它语言 / Set languageBundle to use other language
//         imagePickerVc.languageBundle = [NSBundle bundleWithPath:[[NSBundle mainBundle] pathForResource:@"tz-ru" ofType:@"lproj"]];

//: #pragma mark - 到这里为止
#pragma mark - 到这里为止

    @
     //: autoreleasepool{} __weak __typeof__(self) __weak_self__ = self;
     autoreleasepool{} __weak __typeof__(self) __weak_self__ = self;
                  ;
    //: [imagePickerVc setDidFinishPickingPhotosHandle:^(NSArray<UIImage *> *photos, NSArray *assets, BOOL isSelectOriginalPhoto) {
    [imagePickerVc setDidFinishPickingPhotosHandle:^(NSArray<UIImage *> *photos, NSArray *assets, BOOL isSelectOriginalPhoto) {
        //: if (photos.count > 0 && assets.count > 0) {
        if (photos.count > 0 && assets.count > 0) {
            @
             //: try{} @finally{} __typeof__(self) self = __weak_self__;
             try{} @finally{} __typeof__(self) self = __weak_self__;
                            ;

            //: [self.aratarImgView setImage:photos.firstObject];
            [self.footLab setImage:photos.firstObject];
            //: self.headerImage = photos.firstObject;
            self.version = photos.firstObject;

        }
    //: }];
    }];
    //: imagePickerVc.modalPresentationStyle = UIModalPresentationFullScreen;
    imagePickerVc.modalPresentationStyle = UIModalPresentationFullScreen;
    //: [self presentViewController:imagePickerVc animated:YES completion:nil];
    [self presentViewController:imagePickerVc animated:YES completion:nil];
}

//: - (void)viewDidLoad {
- (void)viewDidLoad {
    //: [super viewDidLoad];
    [super viewDidLoad];
//    self.view.backgroundColor = [UIColor colorWithPatternImage:[UIImage imageNamed:@"login_bg"]];
    //: UIImageView *bg = [[UIImageView alloc]initWithFrame:self.view.bounds];
    UIImageView *bg = [[UIImageView alloc]initWithFrame:self.view.bounds];
    //: bg.image = [UIImage imageNamed:@"login_bg"];
    bg.image = [UIImage imageNamed:StringFromArrowMarginData(colorYardEvent)];
    //: [self.view addSubview:bg];
    [self.view addSubview:bg];

    //: [self initUI];
    [self initQuantityo];

    //: self.closeBtn = [UIButton buttonWithType:UIButtonTypeCustom];
    self.tab = [UIButton buttonWithType:UIButtonTypeCustom];
    //: self.closeBtn.backgroundColor = [UIColor clearColor];
    self.tab.backgroundColor = [UIColor clearColor];
    //: [self.closeBtn setImage:[UIImage imageNamed:@"back_arrow_bl"] forState:(UIControlStateNormal)];
    [self.tab setImage:[UIImage imageNamed:StringFromArrowMarginData(commonIslandMessage)] forState:(UIControlStateNormal)];
    //: [self.closeBtn addTarget:self action:@selector(backAction) forControlEvents:UIControlEventTouchUpInside];
    [self.tab addTarget:self action:@selector(contentPermission) forControlEvents:UIControlEventTouchUpInside];
    //: [self.view addSubview:self.closeBtn];
    [self.view addSubview:self.tab];
    //: self.closeBtn.frame = CGRectMake(15, 25+[UIDevice vg_statusBarHeight], 40, 40);
    self.tab.frame = CGRectMake(15, 25+[UIDevice pinConditionHeight], 40, 40);


}

//: - (void)initUI
- (void)initQuantityo
{


    //: UILabel *titleLabel = [[UILabel alloc] initWithFrame:CGRectMake(60, 25+[UIDevice vg_statusBarHeight], [[UIScreen mainScreen] bounds].size.width-120, 40)];
    UILabel *titleLabel = [[UILabel alloc] initWithFrame:CGRectMake(60, 25+[UIDevice pinConditionHeight], [[UIScreen mainScreen] bounds].size.width-120, 40)];
    //: titleLabel.textColor = [UIColor blackColor];
    titleLabel.textColor = [UIColor blackColor];
    //: titleLabel.font = [UIFont boldSystemFontOfSize:24];
    titleLabel.font = [UIFont boldSystemFontOfSize:24];
    //: titleLabel.text = [NTESLanguageManager getTextWithKey:@"user_profile_avtivity_head"];
    titleLabel.text = [BombardmentMinimumManageress more:StringFromArrowMarginData(coreRouteMessage)];
    //: titleLabel.textAlignment = NSTextAlignmentCenter;
    titleLabel.textAlignment = NSTextAlignmentCenter;
    //: [self.view addSubview:titleLabel];
    [self.view addSubview:titleLabel];

    //: self.accountLabel = [[UILabel alloc] initWithFrame:CGRectMake(0, titleLabel.bottom+20, [[UIScreen mainScreen] bounds].size.width, 20)];
    self.light = [[UILabel alloc] initWithFrame:CGRectMake(0, titleLabel.transaction+20, [[UIScreen mainScreen] bounds].size.width, 20)];
    //: self.accountLabel.font = [UIFont boldSystemFontOfSize:14];
    self.light.font = [UIFont boldSystemFontOfSize:14];
    //: self.accountLabel.textColor = [UIColor colorWithHexString:@"666666"];
    self.light.textColor = [UIColor fraction:StringFromArrowMarginData(spacingScheduleId)];
    //: self.accountLabel.text = [NTESLanguageManager getTextWithKey:@"register_good_avater"];
    self.light.text = [BombardmentMinimumManageress more:StringFromArrowMarginData(spacingSelectTimer)];
    //: self.accountLabel.textAlignment = NSTextAlignmentCenter;
    self.light.textAlignment = NSTextAlignmentCenter;
    //: [self.view addSubview:self.accountLabel];
    [self.view addSubview:self.light];

    //: UIView *imgView = [[UIView alloc]initWithFrame:CGRectMake(([[UIScreen mainScreen] bounds].size.width-150)/2, self.accountLabel.bottom+30, 150, 150)];
    UIView *imgView = [[UIView alloc]initWithFrame:CGRectMake(([[UIScreen mainScreen] bounds].size.width-150)/2, self.light.transaction+30, 150, 150)];
    //: [self.view addSubview:imgView];
    [self.view addSubview:imgView];

    //: _aratarImgView = [[UIImageView alloc] initWithFrame:CGRectMake(0, 0, 150, 150)];
    _footLab = [[UIImageView alloc] initWithFrame:CGRectMake(0, 0, 150, 150)];
    //: _aratarImgView.contentMode = UIViewContentModeScaleAspectFill;
    _footLab.contentMode = UIViewContentModeScaleAspectFill;
    //: _aratarImgView.layer.cornerRadius = 75;
    _footLab.layer.cornerRadius = 75;
    //: _aratarImgView.layer.masksToBounds = YES;
    _footLab.layer.masksToBounds = YES;
    //: _aratarImgView.image = [UIImage imageNamed:@"head_default"];
    _footLab.image = [UIImage imageNamed:StringFromArrowMarginData(corePadName)];
    //: [imgView addSubview:_aratarImgView];
    [imgView addSubview:_footLab];

    //: UIImageView *usericon = [[UIImageView alloc] initWithFrame:CGRectMake(0, 0, 38, 33)];
    UIImageView *usericon = [[UIImageView alloc] initWithFrame:CGRectMake(0, 0, 38, 33)];
    //: usericon.image = [UIImage imageNamed:@"ic_hi"];
    usericon.image = [UIImage imageNamed:StringFromArrowMarginData(moduleTickHelper)];
    //: [imgView addSubview:usericon];
    [imgView addSubview:usericon];

    //: UIButton *cameraicon = [[UIButton alloc] initWithFrame:CGRectMake(150-36, 150-36, 36, 36)];
    UIButton *cameraicon = [[UIButton alloc] initWithFrame:CGRectMake(150-36, 150-36, 36, 36)];
    //: cameraicon.backgroundColor = [UIColor whiteColor];
    cameraicon.backgroundColor = [UIColor whiteColor];
    //: [cameraicon setImage:[UIImage imageNamed:@"icon_photo"] forState:(UIControlStateNormal)];
    [cameraicon setImage:[UIImage imageNamed:StringFromArrowMarginData(commonDropMessage)] forState:(UIControlStateNormal)];
    //: cameraicon.layer.cornerRadius = 18;
    cameraicon.layer.cornerRadius = 18;
    //: cameraicon.layer.masksToBounds = YES;
    cameraicon.layer.masksToBounds = YES;
    //: [imgView addSubview:cameraicon];
    [imgView addSubview:cameraicon];
    //: [cameraicon addTarget:self action:@selector(showPicker) forControlEvents:(UIControlEventTouchUpInside)];
    [cameraicon addTarget:self action:@selector(elementProvider) forControlEvents:(UIControlEventTouchUpInside)];

    //: UILabel *tita = [[UILabel alloc]initWithFrame:CGRectMake(0, imgView.bottom+15, [[UIScreen mainScreen] bounds].size.width, 20)];
    UILabel *tita = [[UILabel alloc]initWithFrame:CGRectMake(0, imgView.transaction+15, [[UIScreen mainScreen] bounds].size.width, 20)];
    //: tita.text = self.nickName;
    tita.text = self.extra;
    //: tita.textColor = [UIColor colorWithHexString:@"#000000"];
    tita.textColor = [UIColor fraction:StringFromArrowMarginData(coreEverTitle)];
    //: tita.textAlignment = NSTextAlignmentCenter;
    tita.textAlignment = NSTextAlignmentCenter;
    //: tita.font = [UIFont systemFontOfSize:16];
    tita.font = [UIFont systemFontOfSize:16];
    //: [self.view addSubview:tita];
    [self.view addSubview:tita];



    //: self.registButton = [UIButton buttonWithType:UIButtonTypeCustom];
    self.during = [UIButton buttonWithType:UIButtonTypeCustom];
    //: self.registButton.frame = CGRectMake(30, tita.bottom+20, [[UIScreen mainScreen] bounds].size.width-60, 44);
    self.during.frame = CGRectMake(30, tita.transaction+20, [[UIScreen mainScreen] bounds].size.width-60, 44);
    //: self.registButton.backgroundColor = [UIColor colorWithHexString:@"#8A53F8"];
    self.during.backgroundColor = [UIColor fraction:StringFromArrowMarginData(corePublishJoinAsError)];
//    self.registButton.layer.masksToBounds = YES;
    //: self.registButton.layer.cornerRadius = 10;
    self.during.layer.cornerRadius = 10;
    //: self.registButton.layer.shadowColor = [UIColor colorWithHexString:@"#6D2EEB"].CGColor;
    self.during.layer.shadowColor = [UIColor fraction:StringFromArrowMarginData(spacingBlendError)].CGColor;
    //: self.registButton.layer.shadowOpacity = 1;
    self.during.layer.shadowOpacity = 1;
    //: self.registButton.layer.shadowRadius = 0;
    self.during.layer.shadowRadius = 0;
    //: self.registButton.layer.shadowOffset = CGSizeMake(0,3);
    self.during.layer.shadowOffset = CGSizeMake(0,3);
    //: self.registButton.titleLabel.font = [UIFont systemFontOfSize:16];
    self.during.titleLabel.font = [UIFont systemFontOfSize:16];
    //: [self.registButton setTitleColor:[UIColor whiteColor] forState:UIControlStateNormal];
    [self.during setTitleColor:[UIColor whiteColor] forState:UIControlStateNormal];
    //: [self.registButton setTitle:[NTESLanguageManager getTextWithKey:@"contact_list_activity_complete"] forState:UIControlStateNormal];
    [self.during setTitle:[BombardmentMinimumManageress more:StringFromArrowMarginData(screenHisHelper)] forState:UIControlStateNormal];
    //: [self.view addSubview:self.registButton];
    [self.view addSubview:self.during];
    //: [self.registButton addTarget:self action:@selector(nextButtonClick) forControlEvents:UIControlEventTouchUpInside];
    [self.during addTarget:self action:@selector(gestureCircleInformation) forControlEvents:UIControlEventTouchUpInside];


}


//: @end
@end

Byte * ArrowMarginDataToCache(Byte *data) {
    int retort = data[0];
    int speed = data[1];
    Byte rectify = data[2];
    int pauseSkin = data[3];
    if (!retort) return data + pauseSkin;
    for (int i = pauseSkin; i < pauseSkin + speed; i++) {
        int value = data[i] - rectify;
        if (value < 0) {
            value += 256;
        }
        data[i] = value;
    }
    data[0] = 0;
    data[pauseSkin + speed] = 0;
    return data + pauseSkin;
}

NSString *StringFromArrowMarginData(Byte *data) {
    return [NSString stringWithUTF8String:(char *)ArrowMarginDataToCache(data)];
}
